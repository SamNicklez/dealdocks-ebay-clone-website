-# in app/views/search/index.html.haml

%section.search_page_container
  %h1 Displaying results for: #{params[:search_terms]}

  - if @results.any?
    %ul.results_list
      - @results.each do |item|
        %li.result_item
          = link_to item.title, item_path(item), class: 'item_link'
          %p.item_price= number_to_currency(item.price)
          %p.item_categories
            - item.categories.each_with_index do |category, index|
              = category.name
              - unless index == item.categories.size - 1
                %span.separator ,
          %figure.item_image
            %img{ src: item.images.first.data_uri, alt: item.title }
  - else
    %p.no_results No items found
